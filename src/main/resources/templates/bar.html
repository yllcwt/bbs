<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <div th:fragment="top_menu">
        <style>
            .navbar-nav>.user-menu .user-image {
                float: left;
                width: 25px;
                height: 25px;
                border-radius: 50%;
                margin-right: 10px;
                margin-top: -2px;
            }
            .navbar-nav {
                float: right;
                margin: 0;
            }
            .navbar-nav>li>.dropdown-menu {
                position: absolute;
                right: 5%;
                left: auto;
                border: 1px solid #ddd;
                background: #fff;
            }
        </style>
        <nav  class="navbar navbar-default navbar-fixed-top">
            <div class="container-fluid">
                <div class="navbar-header">
                    <a class="navbar-brand" href="#">Project name</a>
                </div>
                <div class="navbar-custom-menu">
                    <ul class="nav navbar-nav">
                        <li><a href="/" title="前往前台" target="_blank"><i class="fa fa-location-arrow"></i></a></li>
                        <li class="dropdown user user-menu">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                                <img src="https://oss.liuyanzhao.com/static/ChuyunBlog/static/images/avatar/1.jpeg" class="user-image loginUserAvatar" alt="User
                                Image">
                                <span class="hidden-xs loginUserDisplayName">管理员</span>
                            </a>
                            <ul class="dropdown-menu">
                                <li class="user-header" style="text-align: center">
                                    <img src="https://oss.liuyanzhao.com/static/ChuyunBlog/static/images/avatar/1.jpeg" class="img-circle loginUserAvatar" alt="User
                                    Image">
                                    <p class="loginUserDisplayName">管理员</p>
                                </li>
                                <li class="user-footer">
                                    <div class="pull-left"><a data-pjax="true" href="/admin/user/profile" class="btn btn-default "><i class="fa fa-user"></i>个人资料</a></div>
                                    <div class="pull-right"><a href="/logout" class="btn btn-default "><i class="fa fa-sign-out"></i>登出</a></div>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </div>
        <div th:fragment="sider_menu" class="col-md-2 sidebar">
            <style>
                .user-panel {
                    position: relative;
                    width: 100%;
                    padding-bottom: 10px;
                    overflow: hidden;
                }
                .img-circle{
                    width: 45px;
                    height: 45px;
                }
                p {
                    padding-left: 10px;
                    margin: revert;
                }
            </style>
            <div class="user-panel">
                <div class="pull-left image">
                    <img src="https://oss.liuyanzhao.com/static/ChuyunBlog/static/images/avatar/1.jpeg" class="img-circle loginUserAvatar" style="width: 45px;height: 45px;" alt="User Image">
                </div>
                <div class="pull-left info">
                    <p class="loginUserDisplayName">管理员</p>
                </div>
            </div>
            <ul class="nav nav-sidebar">
                <li th:class="${activeUri == 'user_manage'} ? 'active' : ''">
                    <a th:href="@{/user_manage}">个人资料 </a>
                </li>
                <li th:class="${activeUri == 'post_list'} ? 'active' : ''">
                    <a th:href="@{/postManage}">文章列表</a>
                </li>
                <li th:class="${activeUri == 'post_publish'} ? 'active' : ''">
                    <a th:href="@{/post_publish}">发布文章</a></li>
                <li th:class="${activeUri == 'post_category_manage'} ? 'active' : ''">
                    <a th:href="@{/postCategoryManage}">分类管理</a>
                </li>
                <li th:class="${activeUri == 'post_tag_manage'} ? 'active' : ''">
                    <a th:href="@{/postTagManage}">标签管理</a>
                </li>
            </ul>
        </div>

    <header th:fragment="post_menu" id="tt-header" >
        <div class="container">
            <div class="row tt-row no-gutters">
                <div class="col-auto">
                    <!-- toggle mobile menu -->
                    <a class="toggle-mobile-menu" href="#" style="display: none;">
                        <svg class="tt-icon">
                            <use xlink:href="#icon-menu_icon"></use>
                        </svg>
                    </a>
                    <!-- /toggle mobile menu -->
                    <!-- logo -->
                    <div class="tt-logo">
                        <a href="/">
                            <!--                                <img th:src="${staticCdnUrl+'/static/front/images/logo.jpeg'}" alt="">-->
                            <img src="/static/images/logo.PNG" alt="" style="width:auto;height: 45px;">
                        </a>
                        <!--                            <a href="/"><strong>Easy Java</strong></a>-->
                    </div>
                    <!-- /logo -->

                    <!-- desctop menu -->
                    <div class="tt-desktop-menu">
                        <nav>
                            <ul>
                                <li th:class="${activeUri == 'post_category'} ? 'active' : ''">
                                    <a th:href="@{/post_category}"><span>分类</span></a>
                                </li>
                                <!--                                    <li><a href="/user"><span>活跃用户</span></a></li>-->
                                <li th:class="${activeUri == 'post_tag'} ? 'active' : ''">
                                    <a th:href="@{/post_tag}"><span>热门标签</span></a>
                                </li>
                                <li><a th:href="@{/post_publish}" class=""><span>发布文章</span></a></li>
                            </ul>
                        </nav>
                    </div>
                    <!-- /desctop menu -->

                    <!-- tt-search -->
                    <div class="tt-search">
                        <!-- toggle -->
                        <!--                            <button class="tt-search-toggle" data-toggle="modal" data-target="#modalAdvancedSearch">-->
                        <button class="tt-search-toggle" data-toggle="modal" data-target="#modalAdvancedSearch">
                            <svg class="tt-icon">
                                <use xlink:href="#icon-search"></use>
                            </svg>
                        </button>
                        <!-- /toggle -->
                        <form class="search-wrapper" action="/homepage" method="get">
                            <div class="search-form">
                                <input type="text" name="keywords" id="keywords" class="tt-search__input" placeholder="搜索">
                                <button class="tt-search__btn" type="submit">
                                    <svg class="tt-icon">
                                        <use xlink:href="#icon-search"></use>
                                    </svg>
                                </button>
                                <button class="tt-search__close">
                                    <svg class="tt-icon">
                                        <use xlink:href="#cancel"></use>
                                    </svg>
                                </button>
                            </div>
                            <!--                                <div class="search-results">-->
                            <!--                                    <div class="tt-search-scroll">-->
                            <!--                                        <ul>-->
                            <!--                                            <li>-->
                            <!--                                                <a href="page-single-topic.html">-->
                            <!--                                                    <h6 class="tt-title">Rdr2 secret easter eggs</h6>-->
                            <!--                                                    <div class="tt-description">-->
                            <!--                                                        Here’s what I’ve found in Red Dead Redem..-->
                            <!--                                                    </div>-->
                            <!--                                                </a>-->
                            <!--                                            </li>-->
                            <!--                                        </ul>-->
                            <!--                                    </div>-->
                            <!--                                    <button type="button" class="tt-view-all" data-toggle="modal" data-target="#modalAdvancedSearch">Advanced Search</button>-->
                            <!--                                </div>-->
                        </form>
                    </div>
                    <!-- /tt-search -->
                </div>
                <div class="col-auto ml-auto">

                    <div class="tt-col-btn" th:if="${session.user==null}">
                        <a href="/login" class="btn btn-primary">登录</a>
                        <a href="/register" class="btn btn-secondary">注册</a>
                    </div>
                    　　
                    <div class="tt-user-info d-flex justify-content-center" th:if="${session.user!=null}">
                        <a href="/logout" class="btn btn-primary">退出</a>
                        <a href="/user_manage" class="btn btn-secondary">后台</a>
                    </div>


                </div>
            </div>
        </div>
    </header>


    <div th:fragment="top_nav">
        <nav class="navbar navbar-default">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                            data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                        <span class="sr-only">论坛</span>
                    </button>
                    <a class="navbar-brand" href="/">论坛</a>
                </div>

                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <form class="navbar-form navbar-left" action="/" method="get">
                        <div class="form-group">
                            <input type="text" class="form-control" name="search" placeholder="搜索问题">
                        </div>
                        <button type="submit" class="btn btn-default">搜索</button>
                    </form>
                    <ul class="nav navbar-nav navbar-right">
                        <li >
                            <a href="/publish">发布帖子</a>
                        </li>
                        <li th:if="${session.user == null}">
                            <a th:href="@{/login}">登录 </a>
                        </li>
                        <li th:if="${session.user == null}">
                            <a th:href="@{/register}">注册 </a>
                        </li>
                        <li th:if="${session.user != null}">
                            <div class="media" style="display: inline-block">
                                <div class="media-left">
                                    <a href="#">
                                        <img class="media-object img-rounded" src="/images/avatar/1.jpeg">
                                    </a>
                                </div>
                            </div>
                        </li>
                        <li class="dropdown" th:if="${session.user != null}">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"
                               aria-expanded="false">
                                <span th:text="${session.user.userName}"></span>
                                <span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu">
                                <li><a href="/profile/questions">我的问题</a></li>
                                <li><a href="/logout">退出登录</a></li>
                            </ul>
                        </li>

                    </ul>
                </div>
            </div>
        </nav>
    </div>
</body>
</html>